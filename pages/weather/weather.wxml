<view class="container">
  <view class="current-weather">
    <text class="city">{{currentCity}}</text>
    <image src="/images/arrow-down.png" class="arrow-icon"  bindtap="chooseCity" ></image>
    <view class="space"></view>
    <image class="weather-icon" src="{{currentWeather.icon}}"></image>
    <text class="weather"> {{currentWeather.weather}} </text>
    <text class="temp">{{currentWeather.temp}} </text>
    <text class="humidity">æ¹¿åº¦:{{currentWeather.humidity}} </text>
    <text class="wind">{{currentWeather.windDir}}{{currentWeather.windScale}}</text>
  </view>

  <!-- 7æ—¥å¤©æ°”é¢„æŠ¥æŠ˜çº¿å›¾ -->
  <!-- <view class="chart-container">
    <canvas canvas-id="weatherChart" class="weather-chart"></canvas>
  </view> -->
<!-- 7æ—¥å¤©æ°”é¢„æŠ¥è¡¨æ ¼ -->
  <view class="forecast-container">
  <view class="forecast-header">
    <text class="header-cell">æ—¥æœŸ</text>
    <text class="header-cell">å¤©æ°”</text>
    <text class="header-cell">æ¸©åº¦</text>
    <text class="header-cell">é£å‘</text>
  </view>

  <block wx:for="{{dailyForecast}}" wx:key="index">
    <view class="forecast-row">
      <!-- æ—¥æœŸ & æ˜ŸæœŸ -->
      <view class="forecast-cell">
        <text class="date-text">{{item.date}}</text>
        <text class="weekday-text">{{item.weekday}}</text>
      </view>

      <!-- å¤©æ°”å›¾æ ‡ & å¤©æ°”çŠ¶å†µ -->
      <view class="forecast-cell weather-cell">
        <image class="weather-icon" src="{{item.icon}}" mode="aspectFit"></image>
        <text class="weather-text">{{item.textDay}}</text>
      </view>

      <!-- æœ€é«˜/æœ€ä½æ¸©åº¦ -->
      <view class="forecast-cell">
        <text class="temp-text">â†‘ {{item.tempMax}}</text>
        <text class="temp-text">â†“ {{item.tempMin}}</text>
      </view>

      <!-- é£å‘ & é£åŠ› -->
      <view class="forecast-cell">
        <text class="wind-text">{{item.windDirDay}}</text>
        <text class="wind-text">{{item.windScaleDay}}çº§</text>
      </view>
    </view>
  </block>
</view>


  <!-- 7å¤©å¤©æ°”é¢„æŠ¥ -->
  <view class="daily-forecast">
    <block wx:for="{{dailyForecast}}" wx:key="date">
      <view class="forecast-item">
        <text class="date">{{item.date}}</text>
        <image class="forecast-icon" src="{{item.icon}}"></image>
        <text class="temp-range">{{item.tempMin}} ~ {{item.tempMax}}</text>
      </view>

      <!-- é¢å¤–å¤©æ°”è¯¦æƒ… -->
      <view class="forecast-details">
        <text>ğŸŒ… æ—¥å‡º: {{item.sunrise}}</text>
        <text>ğŸŒ‡ æ—¥è½: {{item.sunset}}</text>
        <text>ğŸŒ™ æœˆç›¸: {{item.moonPhase}}</text>
        <text>ğŸŒ• æœˆå‡º: {{item.moonrise}}</text>
        <text>ğŸŒ‘ æœˆè½: {{item.moonset}}</text>
        <text>ğŸŒ€ ç™½å¤©é£åŠ›: {{item.windDirDay}} {{item.windScaleDay}}çº§</text>
        <text>ğŸŒ¬ å¤œé—´é£åŠ›: {{item.windDirNight}} {{item.windScaleNight}}çº§</text>
        <text>ğŸŒ¡ æ°”å‹: {{item.pressure}} hPa</text>
        <text>ğŸŒ“ ç´«å¤–çº¿æŒ‡æ•°: {{item.uvIndex}}</text>
      </view>
    </block>
  </view>

  <!-- åŠ è½½çŠ¶æ€ -->
  <view class="loading" wx:if="{{loading}}">
    <image src="/images/loading.gif" class="loading-icon"/>
    <text>åŠ è½½ä¸­...</text>
  </view>
</view>